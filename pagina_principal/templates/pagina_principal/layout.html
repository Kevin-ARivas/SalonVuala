{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Salón Vualá — Río Bueno</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <style>
    :root {
      --accent: #E6A67A;
      --accent-hover: #D18A5F;
    }

    /* Elementos que aparecerán con GSAP */
    .gsap-fade {
      opacity: 0;
      transform: translateY(20px);
    }

    /* Animación del hero existente */
    @keyframes zoomHero {
      0% { transform: scale(1); }
      100% { transform: scale(1.12); }
    }
    .animate-zoom {
      animation: zoomHero 20s ease-in-out infinite alternate;
    }
  </style>
</head>

<body class="bg-[#0A0A0A] text-white">

<!-- NAV -->
<header id="gsap-header"
        class="sticky top-0 bg-black/70 backdrop-blur border-b border-[#1b1b1b] z-50 opacity-0">
  <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
    <a href="/" class="text-xl font-light tracking-wide">SALÓN VUALÁ</a>

    <nav id="gsap-nav" class="hidden md:flex gap-8 text-sm font-light items-center opacity-0">
      <a href="/" class="hover:text-[var(--accent)]">Inicio</a>
      <a href="/servicios/" class="hover:text-[var(--accent)]">Servicios</a>
      <a href="/matias/" class="hover:text-[var(--accent)]">Quién es Matías</a>
      <a href="/productos/" class="hover:text-[var(--accent)]">Productos</a>
      <a href="/reservar/" class="px-4 py-2 border border-[var(--accent)] rounded hover:bg-[var(--accent)] hover:text-black transition">
        Agendar
      </a>

      {% if user.is_authenticated %}
        <span class="text-gray-400">Hola, {{ user.username }}</span>
        <a href="{% url 'logout_usuario' %}" class="hover:text-[var(--accent)]">Cerrar sesión</a>
      {% else %}
        <a href="{% url 'login_usuario' %}" class="hover:text-[var(--accent)]">Iniciar sesión</a>
      {% endif %}
    </nav>
  </div>
</header>

{% block content %}{% endblock %}

<!-- FOOTER -->
<footer class="gsap-fade text-center text-[#BABABA] border-t border-[#1b1b1b] py-12 mt-20 text-sm">
  <div class="mb-4 text-lg text-white font-light">Salón Vualá — Río Bueno</div>
  <p class="mb-2">Oriente 1078, Río Bueno</p>
  <a href="https://www.google.com/maps/search/Oriente+1078,+Río+Bueno" target="_blank"
     class="text-[var(--accent)] hover:text-[var(--accent-hover)] transition">
    Ver ubicación en Google Maps
  </a>
  <div class="mt-8 text-[#BABABA] text-xs">
    © {{ now|date:"Y" }} Salón Vualá — Todos los derechos reservados.
  </div>
</footer>

<!-- WHATSAPP -->
<a href="https://wa.me/+569XXXXXXXX" target="_blank"
   class="gsap-fade fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white px-5 py-3 rounded-full shadow-xl font-medium transition">
  WhatsApp
</a>

<!-- GSAP ANIMATIONS -->
<script>
  gsap.registerPlugin(ScrollTrigger);

  // HEADER aparece suave desde arriba
  gsap.to("#gsap-header", {
    opacity: 1,
    y: 0,
    duration: 0.8,
    ease: "power2.out",
    from: { y: -30 }
  });

  // NAV links con stagger
  gsap.to("#gsap-nav", {
    opacity: 1,
    duration: 0.8,
    delay: 0.2
  });

  gsap.from("#gsap-nav a", {
    opacity: 0,
    y: -10,
    stagger: 0.08,
    duration: 0.6,
    ease: "power2.out",
    delay: 0.3
  });

  // Fade-in global para elementos con scroll
  gsap.utils.toArray('.gsap-fade').forEach((el) => {
    gsap.fromTo(el,
      { opacity: 0, y: 20 },
      {
        opacity: 1,
        y: 0,
        duration: 0.8,
        ease: "power2.out",
        scrollTrigger: {
          trigger: el,
          start: "top 85%"
        }
      }
    );
  });
</script>

</body>
</html>

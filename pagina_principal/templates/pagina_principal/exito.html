{% extends "pagina_principal/layout.html" %}
{% load static %}
{% block content %}

<section class="max-w-3xl mx-auto px-6 py-20 text-center gsap-confirm-container opacity-0">
  <h1 class="text-3xl font-semibold gsap-confirm-title opacity-0">¡Cita creada con éxito!</h1>
  <p class="text-[#cfcfcf] mt-3 opacity-0 gsap-confirm-item">Te enviaremos un correo de confirmación si corresponde.</p>

  <div class="mt-8 text-left border border-[#1b1b1b] rounded-lg p-6 max-w-xl mx-auto space-y-2">

    {% if cita.sucursal %}
    <div class="gsap-confirm-item opacity-0"><b>Sucursal:</b> {{ cita.sucursal.nombre }}</div>
    {% endif %}

    <div class="gsap-confirm-item opacity-0"><b>Servicio:</b> {{ cita.servicio.nombre }}</div>
    <div class="gsap-confirm-item opacity-0"><b>Fecha:</b> {{ cita.fecha }}</div>
    <div class="gsap-confirm-item opacity-0"><b>Hora:</b> {{ cita.hora }}</div>

    <div class="gsap-confirm-item opacity-0"><b>Nombre:</b> {{ cita.nombre_cliente }}</div>

    {% if cita.email %}
    <div class="gsap-confirm-item opacity-0"><b>Email:</b> {{ cita.email }}</div>
    {% endif %}

    <div class="gsap-confirm-item opacity-0"><b>Teléfono:</b> {{ cita.telefono }}</div>

    {% if cita.comentarios %}
    <div class="gsap-confirm-item opacity-0"><b>Comentarios:</b> {{ cita.comentarios }}</div>
    {% endif %}

  </div>

  <a href="/" class="mt-8 inline-block px-6 py-3 border border-[var(--accent)] rounded hover:bg-[var(--accent)] hover:text-black transition gsap-confirm-button opacity-0">
    Volver al inicio
  </a>
</section>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", () => {

    // Fade + slide del contenedor general
    gsap.to(".gsap-confirm-container", {
      opacity: 1,
      y: -10,
      duration: 0.6,
      ease: "power2.out"
    });

    // Título
    gsap.to(".gsap-confirm-title", {
      opacity: 1,
      y: -10,
      duration: 0.6,
      delay: 0.2,
      ease: "power2.out"
    });

    // Items del resumen uno por uno
    gsap.to(".gsap-confirm-item", {
      opacity: 1,
      y: -8,
      duration: 0.5,
      ease: "power2.out",
      stagger: 0.08,
      delay: 0.3
    });

    // Botón al final
    gsap.to(".gsap-confirm-button", {
      opacity: 1,
      y: -10,
      duration: 0.6,
      delay: 0.8,
      ease: "power2.out"
    });
  });
</script>

{% endblock %}

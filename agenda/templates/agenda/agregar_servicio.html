{% extends "inicio/base_dashboard.html" %}

{% block content %}

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

<div class="servicio-container max-w-3xl mx-auto p-6">

    <!-- TÍTULO -->
    <div class="servicio-title-wrapper">
        <h1 class="servicio-title text-4xl font-extrabold text-gray-900 mb-8 pb-3 border-b border-gray-300">
            ➕ Agregar Nuevo Servicio
        </h1>
    </div>

    <!-- FORM WRAPPER -->
    <div class="servicio-form-wrapper">
        <form id="form-servicio" method="POST"
            class="bg-white shadow-xl rounded-2xl p-8 border border-gray-100">
            {% csrf_token %}

            <!-- Nombre -->
            <div class="servicio-field-wrapper mb-6">
                <label for="{{ form.nombre.id_for_label }}" class="servicio-label block text-sm font-bold text-gray-700 mb-1">
                    Nombre del Servicio
                </label>
                {{ form.nombre }}
            </div>

            <!-- Descripción -->
            <div class="servicio-field-wrapper mb-6">
                <label for="{{ form.descripcion.id_for_label }}" class="servicio-label block text-sm font-bold text-gray-700 mb-1">
                    Descripción
                </label>
                {{ form.descripcion }}
            </div>

            <!-- Precio + Duración -->
            <div class="servicio-grid grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6">

                <div class="servicio-field-wrapper">
                    <label for="{{ form.precio.id_for_label }}" class="servicio-label block text-sm font-bold text-gray-700 mb-1">
                        Precio (CLP)
                    </label>
                    {{ form.precio }}
                </div>

                <div class="servicio-field-wrapper">
                    <label for="{{ form.duracion.id_for_label }}" class="servicio-label block text-sm font-bold text-gray-700 mb-1">
                        Duración
                    </label>
                    {{ form.duracion }}
                </div>

            </div>

            <!-- BOTONES -->
            <div class="servicio-buttons flex justify-between items-center mt-10">

                <a id="btn-volver" href="{% url 'lista_servicios' %}"
                    class="text-gray-700 hover:text-black transition font-semibold text-sm hover:underline">
                    ← Volver a Servicios
                </a>

                <button id="btn-guardar" type="submit"
                    class="bg-black text-white px-7 py-3 rounded-full font-semibold shadow-lg hover:bg-pink-600 hover:shadow-xl transition-all">
                    Guardar Servicio
                </button>

            </div>

        </form>
    </div>

</div>


<!-- GSAP ANIMACIONES -->
<script>

    // Animación del TÍTULO
    gsap.from(".servicio-title-wrapper", {
        opacity: 0,
        y: -40,
        duration: 1,
        ease: "power3.out"
    });

    // Animación del CONTENEDOR DEL FORMULARIO
    gsap.from(".servicio-form-wrapper", {
        opacity: 0,
        y: 40,
        duration: 1.2,
        delay: 0.2,
        ease: "power3.out"
    });

    // Animación en cadena de los CAMPOS
    gsap.from(".servicio-field-wrapper", {
        opacity: 0,
        x: -25,
        duration: 0.7,
        stagger: 0.15,
        delay: 0.5,
        ease: "power2.out"
    });

    // Botón Guardar — animación hover con GSAP
    const guardarBtn = document.getElementById("btn-guardar");

    guardarBtn.addEventListener("mouseenter", () => {
        gsap.to(guardarBtn, { scale: 1.08, duration: 0.2 });
    });

    guardarBtn.addEventListener("mouseleave", () => {
        gsap.to(guardarBtn, { scale: 1.0, duration: 0.2 });
    });

</script>

{% endblock %}

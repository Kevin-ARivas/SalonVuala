{% extends "inicio/base_dashboard.html" %}

{% block content %}

<!-- Contenedor principal -->
<div class="svc-page-container max-w-7xl mx-auto p-6 opacity-0">

    <!-- Encabezado -->
    <div class="svc-header-wrapper flex justify-between items-center mb-6 opacity-0">
        <h1 class="text-3xl font-extrabold text-gray-900">Servicios del Sal√≥n</h1>

        <a href="{% url 'agregar_servicio' %}" 
           class="bg-black text-white px-5 py-2.5 rounded-full font-semibold hover:bg-pink-500 transition shadow-md hover:shadow-lg">
            + Nuevo Servicio
        </a>
    </div>

    <!-- Tabla / Contenido -->
    <div class="svc-table-wrapper bg-white shadow-xl rounded-lg p-6 opacity-0">

        {% if servicios %}
        <table class="min-w-full text-left border-collapse">
            <thead>
                <tr class="border-b">
                    <th class="py-3 font-semibold text-gray-600">Nombre</th>
                    <th class="py-3 font-semibold text-gray-600">Precio</th>
                    <th class="py-3 font-semibold text-gray-600">Duraci√≥n</th>
                    <th class="py-3 text-gray-600 text-right">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for s in servicios %}
                <tr class="border-b hover:bg-gray-50 transition">
                    <td class="py-3 text-gray-900 font-medium">{{ s.nombre }}</td>
                    <td class="py-3 text-gray-700">${{ s.precio }}</td>
                    <td class="py-3 text-gray-700">{{ s.get_duracion_display }}</td>
                    <td class="py-3 text-right space-x-4">

                        <a href="{% url 'editar_servicio' s.id %}" 
                           class="text-blue-600 hover:text-blue-800 font-semibold">
                            ‚úèÔ∏è Editar
                        </a>

                        <a href="{% url 'eliminar_servicio' s.id %}" 
                           class="text-red-500 hover:text-red-700 font-semibold"
                           onclick="return confirm('¬øSeguro que deseas eliminar este servicio?');">
                            üóëÔ∏è Eliminar
                        </a>

                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        {% else %}
        <p class="text-gray-500 text-center py-6">A√∫n no hay servicios registrados.</p>
        {% endif %}
    </div>

</div>

<!-- GSAP Animaciones -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    gsap.timeline()
        .to(".svc-page-container", {
            opacity: 1,
            y: 0,
            duration: 0.6,
            ease: "power2.out"
        })
        .fromTo(".svc-header-wrapper", 
            { opacity: 0, y: -20 },
            { opacity: 1, y: 0, duration: 0.6, ease: "power2.out" },
            "-=0.3"
        )
        .fromTo(".svc-table-wrapper",
            { opacity: 0, y: 20 },
            { opacity: 1, y: 0, duration: 0.7, ease: "power2.out" },
            "-=0.3"
        );
});
</script>

{% endblock %}
